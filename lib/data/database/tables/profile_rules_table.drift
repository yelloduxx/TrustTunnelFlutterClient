import 'routing_profiles_table.drift';
import 'routing_modes_table.drift';

CREATE TABLE IF NOT EXISTS profile_rules(
  profile_id INTEGER NOT NULL,
  data TEXT NOT NULL,
  mode INTEGER NOT NULL,
  PRIMARY KEY(profile_id, data, mode),
  FOREIGN KEY (profile_id) REFERENCES routing_profiles(id) ON DELETE CASCADE,
  FOREIGN KEY (mode) REFERENCES routing_modes(id)
);